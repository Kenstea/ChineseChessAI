<div class="header">
	<sm-menu title="Angular2" class="inverted teal" logo="https://upload.wikimedia.org/wikipedia/en/thumb/b/b7/Stanford_University_seal_2003.svg/150px-Stanford_University_seal_2003.svg.png">
		<a sm-item icon="sidebar big"></a>
		<h1 sm-item>Stanford CS 221 Project <span class="separator">|</span> <span class="title">Chinese Chess AI</span></h1>
		<sm-menu class="menu right secondary">
			<a sm-item href="#/elements/menu" image="resource/img/dengli.png">Li Deng</a>
		</sm-menu>
	</sm-menu>
</div>

<div class="body_content" (keyup.Enter)="board.initGame()">

	<board #board class="board"></board>

	<div class="left">
		<div *ngIf="board.humanMode">
			<sm-button [disabled]="!(board.state.playingTeam==1 || board.gameEndState) " class="fluid medium negative " icon="refresh " (click)="board.initGame() ">Restart</sm-button>
			<div class="margin"></div>
			<sm-button [disabled]="!board.lastState ||  board.state.playingTeam!=1" class="fluid medium teal control " icon="undo" (click)="board.go2PreviousState() ">Undo </sm-button>
			<div class="margin"></div>
			<hr/>
		</div>

		<div *ngIf="!board.humanMode">
			<sm-button *ngIf="board.inSimulation" class="fluid medium negative " icon="stop " (click)="board.stop_simulate() ">Stop</sm-button>
			<sm-button *ngIf="!board.inSimulation" [disabled]="board.inSimulation" class="fluid medium negative " icon="Recycle " (click)="board.continue_simulate() ">Continue</sm-button>
			<div class="margin"></div>
			<sm-button [disabled]="board.inSimulation" class="fluid medium teal control " icon="twitter " (click)="board.simulate() ">Simulate </sm-button>
			<div class="margin"></div>
			<hr/>
		</div>


		<sm-checkbox label="Human - Computer " [control]="humanMode " type="toggle " (change)="board.changeMode() "></sm-checkbox>


		<div>


			<h3>Black Agent</h3>
			<sm-select placeholder="Opponent Agent " (change)="board.chooseBlackAgent($event.target.value) ">
				<option>Level 1 - Greedy </option>
				<option>Level 2 - EvalFn(Shallow)</option>
				<option>Level 3 - EvalFn(Deep)</option>
				<option>Level 4 - MCTS</option>
				<option>Level 5 - Temporal</option>
			</sm-select>
		</div>
		<hr>
		<div *ngIf="!board.humanMode ">
			<h3 style="color:red ">Red Agent</h3>
			<sm-select placeholder="Opponent Agent " (change)="board.chooseRedAgent($event.target.value) ">
				<option>Level 1 - Greedy </option>
				<option>Level 2 - EvalFn(Shallow)</option>
				<option>Level 3 - EvalFn(Deep)</option>
				<option>Level 4 - MCTS</option>
				<option>Level 5 - Temporal</option>
			</sm-select>
		</div>


		<h1 *ngIf="board.gameEndState ">You {{board.gameEndState}}</h1>

		<h3 [style.color]=" 'black' "> Agent 1: {{board.state.blackAgent.myPieces.length}} pieces</h3>
		<hr>
		<table>
			<tr>Black: {{board.state.blackAgent.pastMoves.length}} Moves</tr>
			<tr *ngFor="let move of board.state.blackAgent.pastMoves ">
				<td>{{move}}</td>
			</tr>
		</table>




	</div>






	<div class="right ">
		<h2>Game State</h2>
		<div *ngIf="board.humanMode && board.state.playingTeam !=1 && !board.gameEndState ">
			<hr/>
			<div class="ui active centered inline loader "></div>
		</div>
		<sm-button *ngIf="board.playingTeam==1 " class="circular brown " icon="male big "></sm-button>
		<hr/>

		<h3 [style.color]=" 'red' "> Agent 0: {{board.state.redAgent.myPieces.length}} pieces</h3>
		<hr/>

		<table style="color:red ">
			<tr>Red: {{board.state.redAgent.pastMoves.length}} Moves</tr>
			<tr *ngFor="let move of board.state.redAgent.pastMoves ">
				<td>{{move}}</td>
			</tr>
		</table>

	</div>



</div>
